import { EventDispatcher } from "@puzzl/core/lib/event/EventDispatcher";
export class EventWatcher {
    constructor(event, predicate) {
        this.event = event;
        this.predicate = predicate;
        this._onData = new EventDispatcher();
        this.onEvent = (data) => {
            if (this.predicate(data)) {
                this._onData.dispatch();
            }
        };
    }
    get onData() {
        return this._onData.asEvent();
    }
    watch() {
        this.event.subscribe(this.onEvent);
    }
    unwatch() {
        this.event.unsubscribe(this.onEvent);
    }
}
//# sourceMappingURL=EventWatcher.js.map